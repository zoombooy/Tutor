# å‡ ä½•è¯æ˜è§†é¢‘ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ Manim è§†é¢‘åˆ¶ä½œç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ç”¨ä»£ç ç”Ÿæˆå¸¦é…éŸ³çš„å‡ ä½•æ•™å­¦è§†é¢‘ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§ï¼šéŸ³é¢‘é©±åŠ¨ç”»é¢åŒæ­¥

æœ¬ç¤ºä¾‹å®ç°äº†**çœŸæ­£çš„éŸ³ç”»åŒæ­¥**ï¼šç”»é¢ä¼šæ ¹æ®æ¯æ®µéŸ³é¢‘çš„å®é™…æ—¶é•¿è‡ªåŠ¨ç­‰å¾…ï¼Œç¡®ä¿è¯­éŸ³æ’­æ”¾å®Œæˆåæ‰è¿›å…¥ä¸‹ä¸€å¹•ã€‚

```
ä¼ ç»Ÿæ–¹å¼:              éŸ³é¢‘é©±åŠ¨æ–¹å¼ (æœ¬ç¤ºä¾‹):
é¢„ä¼°æ—¶é•¿ â†’ åŠ¨ç”»        ç”ŸæˆéŸ³é¢‘ â†’ è®°å½•å®é™…æ—¶é•¿
   â†“                       â†“
åŠ¨ç”»æ’­æ”¾ (å¯èƒ½ä¸åŒæ­¥)    åŠ¨ç”»è‡ªåŠ¨ç­‰å¾…è¯­éŸ³ç»“æŸ
   â†“                       â†“
åˆå¹¶éŸ³è§†é¢‘              å®Œç¾åŒæ­¥çš„éŸ³è§†é¢‘
```

## ğŸ“‹ æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `scene.py` | Manim åœºæ™¯ä»£ç ï¼ˆç«–å± 9:16ï¼Œ1080x1920ï¼‰ |
| `å‡ ä½•_20260218_å››ç‚¹å…±åœ†è¯æ˜_åˆ†é•œ.md` | å®Œæ•´åˆ†é•œè„šæœ¬ |
| `storyboard.md` | ç®€åŒ–ç‰ˆåˆ†é•œæ¨¡æ¿ |
| `generate_edge_tts.py` | ä»åˆ†é•œç”Ÿæˆé…éŸ³éŸ³é¢‘ |
| `render.sh` | ä¸€é”®æ¸²æŸ“è„šæœ¬ |
| `audio/` | ç”Ÿæˆçš„éŸ³é¢‘æ–‡ä»¶ç›®å½• |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£… Manim
pip install manim

# å®‰è£… Edge TTS
pip install edge-tts

# å®‰è£… ffmpeg
# macOS:
brew install ffmpeg
# Ubuntu/Debian:
# sudo apt install ffmpeg
```

### 2. ä¸€é”®æ¸²æŸ“

```bash
# ç”ŸæˆéŸ³é¢‘å¹¶æ¸²æŸ“è§†é¢‘
./render.sh

# æˆ–è·³è¿‡éŸ³é¢‘ç”Ÿæˆï¼ˆå¦‚æœå·²æœ‰éŸ³é¢‘ï¼‰
./render.sh --skip-audio
```

### 3. æŸ¥çœ‹è¾“å‡º

- **è§†é¢‘æ–‡ä»¶**: `final_video.mp4`
- **éŸ³é¢‘ç›®å½•**: `audio/`
- **æ¸…å•æ–‡ä»¶**: `audio/audio_manifest.json`

## ğŸ“ éŸ³é¢‘é©±åŠ¨å·¥ä½œæµç¨‹

```
1. ç¼–è¾‘åˆ†é•œè„šæœ¬ (.md)
      â†“
2. ç”Ÿæˆ TTS éŸ³é¢‘
   python generate_edge_tts.py åˆ†é•œ.md ./audio
      â†“
3. è‡ªåŠ¨è®°å½•æ—¶é•¿ â†’ audio/timeline.json
   {
     "scenes": [
       {"index": 1, "duration": 11.66, ...},
       {"index": 2, "duration": 17.18, ...}
     ]
   }
      â†“
4. æ¸²æŸ“è§†é¢‘ï¼ˆè‡ªåŠ¨åŒæ­¥ï¼‰
   scene.py è¯»å– timeline.json
   â†’ ç”»é¢è‡ªåŠ¨ç­‰å¾…å¯¹åº”éŸ³é¢‘æ—¶é•¿
      â†“
5. åˆå¹¶éŸ³è§†é¢‘
   ./render.sh â†’ final_video.mp4
```

### åŒæ­¥æœºåˆ¶

åœ¨ `scene.py` ä¸­ï¼š

```python
def construct(self):
    # åŠ è½½éŸ³é¢‘æ—¶é•¿
    AUDIO_TIMINGS = load_audio_timings()  # ä» timeline.json

    # ç¬¬ä¸€å¹•
    self.start_scene("opening")  # å¼€å§‹è®¡æ—¶
    # ... åŠ¨ç”»ä»£ç  ...
    self.wait_for_audio(animation_time=10)  # è‡ªåŠ¨ç­‰å¾…è‡³éŸ³é¢‘ç»“æŸ

    # ç¬¬äºŒå¹•
    self.start_scene("show_figure")
    # ... åŠ¨ç”»ä»£ç  ...
    self.wait_for_audio(animation_time=15)
```

æ¸²æŸ“æ—¶ä¼šè¾“å‡ºç­‰å¾…ä¿¡æ¯ï¼š
```
â–¶ï¸  åœºæ™¯: opening (éŸ³é¢‘æ—¶é•¿: 11.66ç§’)
   â±ï¸  åŠ¨ç”»ç”¨æ—¶ 10.00ç§’, ç­‰å¾… 1.66ç§’
```

## ğŸ¨ è‡ªå®šä¹‰å†…å®¹

### ä¿®æ”¹åˆ†é•œ

ç¼–è¾‘ `storyboard.md` æˆ–åˆ›å»ºæ–°çš„åˆ†é•œæ–‡ä»¶ï¼š

```markdown
### ç¬¬ä¸€å¹•ï¼šå¼€åœºï¼ˆ5ç§’ï¼‰

**ç”»é¢**: æ ‡é¢˜æ·¡å…¥
**å­—å¹•**: "æˆ‘çš„æ ‡é¢˜"
**è¯»ç™½**: "å¤§å®¶å¥½ï¼Œä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ..."
```

### ä¿®æ”¹åŠ¨ç”»

ç¼–è¾‘ `scene.py` ä¸­çš„åŠ¨ç”»é€»è¾‘ï¼š

```python
def construct(self):
    # åˆ›å»ºå‡ ä½•å›¾å½¢
    triangle = Polygon(A, B, C)
    self.play(Create(triangle))
```

### æ›´æ¢è¯­éŸ³

```bash
# ä½¿ç”¨ç”·å£°ï¼ˆæ²‰ç¨³ï¼‰
python generate_edge_tts.py åˆ†é•œ.md ./audio --voice yunjian

# å¯ç”¨è¯­éŸ³: xiaoxiao, xiaoyi, yunjian, yunxi, yunxia, yunyang
```

## ğŸ“ ç”»é¢æ¯”ä¾‹

å½“å‰é…ç½®ä¸º **ç«–å± 9:16**ï¼ˆ1080x1920ï¼‰ï¼Œé€‚åˆçŸ­è§†é¢‘å¹³å°ã€‚

å¦‚éœ€æ¨ªå±ï¼Œä¿®æ”¹ `scene.py`ï¼š

```python
config.pixel_width = 1920
config.pixel_height = 1080
config.frame_width = 16
config.frame_height = 9
```

## ğŸ”§ æ•…éšœæ’é™¤

### æ‰¾ä¸åˆ° manim

```bash
pip install manim
# æˆ–
pip3 install manim
```

### æ‰¾ä¸åˆ° ffmpeg

```bash
# macOS
brew install ffmpeg

# Linux
sudo apt install ffmpeg
```

### Edge TTS æŠ¥é”™

æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ˆEdge TTS éœ€è¦è”ç½‘ï¼‰

### éŸ³é¢‘æ—¶é•¿ä¸å¯¹

ç¡®ä¿å…ˆç”ŸæˆéŸ³é¢‘ï¼Œå†æ ¹æ®å®é™…æ—¶é•¿è°ƒæ•´åŠ¨ç”»ã€‚ä½¿ç”¨ `audio/audio_manifest.json` ä¸­çš„æ—¶é•¿æ•°æ®ã€‚

## ğŸ“š å‚è€ƒ

- [Manim æ–‡æ¡£](https://docs.manim.community/)
- [Edge TTS](https://github.com/rany2/edge-tts)
- Tutor æŠ€èƒ½å‚è€ƒæ–‡æ¡£
